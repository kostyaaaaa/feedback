#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

message="$(cat "$1")"
rx="^(WIP: )?(feature|bugfix|chore)\/([a-zA-Z0-9-]+ )+[a-zA-Z0-9-]+$"

if echo "$message" | grep -qE "$rx"; then
  echo "âœ… Commit message is valid!"
else
  echo "ðŸš¨ Wrong commit message! ðŸ˜•"
  exit 1
fi